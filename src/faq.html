

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>FAQ &mdash; Fortran90 1.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Fortran90 1.0 documentation" href="../index.html" />
    <link rel="next" title="Gotchas" href="gotchas.html" />
    <link rel="prev" title="Python Fortran Rosetta Stone" href="rosetta.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="gotchas.html" title="Gotchas"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="rosetta.html" title="Python Fortran Rosetta Stone"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Fortran90 1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="faq">
<h1>FAQ<a class="headerlink" href="#faq" title="Permalink to this headline">¶</a></h1>
<p>We try to answer here some commonly asked questions about Fortran.</p>
<div class="section" id="how-to-do-dynamic-dispatch-in-fortran-like-void-in-c">
<h2>How to do dynamic dispatch in Fortran (like &#8216;void *&#8217; in C)?<a class="headerlink" href="#how-to-do-dynamic-dispatch-in-fortran-like-void-in-c" title="Permalink to this headline">¶</a></h2>
<p>The equivalent of <tt class="docutils literal"><span class="pre">void</span> <span class="pre">*</span></tt> in Fortran is <tt class="docutils literal"><span class="pre">type(c_ptr)</span></tt>, see
<a class="reference internal" href="best-practices.html#callbacks"><em>Type Casting and Callbacks</em></a> for examples of usage.</p>
</div>
<div class="section" id="how-to-interface-fortran-with-c-and-python">
<h2>How to interface Fortran with C and Python?<a class="headerlink" href="#how-to-interface-fortran-with-c-and-python" title="Permalink to this headline">¶</a></h2>
<p>Just use the <tt class="docutils literal"><span class="pre">iso_c_binding</span></tt> module to interface with C, see
<a class="reference internal" href="best-practices.html#c-interface"><em>Interfacing with C</em></a> for more information and examples.</p>
<p>Once you can call Fortran from C, just write a simple
<a class="reference external" href="http://cython.org/">Cython</a> wrapper by hand
to call Fortran from Python, see
<a class="reference internal" href="best-practices.html#python-interface"><em>Interfacing with Python</em></a> for more info.
You can also use <a class="reference external" href="http://www.f2py.com/">f2py</a> or
<a class="reference external" href="http://fwrap.sourceforge.net/">fwrap</a>.</p>
</div>
<div class="section" id="does-fortran-support-closures">
<h2>Does Fortran support closures?<a class="headerlink" href="#does-fortran-support-closures" title="Permalink to this headline">¶</a></h2>
<p>Fortran doesn&#8217;t support <a class="reference external" href="http://en.wikipedia.org/wiki/Closure_(computer_science)">closures</a>
but it does support nested functions.
See <a class="reference internal" href="rosetta.html#nested-functions"><em>Nested Functions</em></a> for examples of usage.</p>
</div>
<div class="section" id="are-fortran-compilers-abi-compatible">
<h2>Are Fortran compilers ABI compatible?<a class="headerlink" href="#are-fortran-compilers-abi-compatible" title="Permalink to this headline">¶</a></h2>
<p>Intel C and C++ compilers are
<a class="reference external" href="http://software.intel.com/sites/products/collateral/hpc/compilers/intel_linux_compiler_compatibility_with_gnu_compilers.pdf">ABI-compatible</a>
with GCC and Clang. Fortran compilers in general are not ABI compatible.</p>
</div>
<div class="section" id="what-is-the-best-way-to-distribute-and-install-fortran-libraries">
<h2>What is the best way to distribute and install Fortran libraries?<a class="headerlink" href="#what-is-the-best-way-to-distribute-and-install-fortran-libraries" title="Permalink to this headline">¶</a></h2>
<p>Unfortunately it is not as easy as in C/C++ due to the ABI incompatibility
across Fortran compilers. See this
<a class="reference external" href="http://gcc.gnu.org/ml/fortran/2011-06/msg00114.html">thread</a>
for more information.</p>
</div>
<div class="section" id="does-fortran-warn-you-about-undefined-symbols">
<h2>Does Fortran warn you about undefined symbols?<a class="headerlink" href="#does-fortran-warn-you-about-undefined-symbols" title="Permalink to this headline">¶</a></h2>
<p>Yes, it does. For gfortran, you need to use the <tt class="docutils literal"><span class="pre">-Wimplicit-interface</span></tt> option.</p>
</div>
<div class="section" id="what-is-the-equivalent-of-the-c-header-files-in-fortran">
<h2>What is the equivalent of the C header files in Fortran?<a class="headerlink" href="#what-is-the-equivalent-of-the-c-header-files-in-fortran" title="Permalink to this headline">¶</a></h2>
<p>Create a module and use it from other places. The compiler will check all the
types.</p>
</div>
<div class="section" id="what-compiler-options-should-i-use-for-development">
<h2>What compiler options should I use for development?<a class="headerlink" href="#what-compiler-options-should-i-use-for-development" title="Permalink to this headline">¶</a></h2>
<p>One possibility for gfortran is:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="o">-</span><span class="n">Wall</span> <span class="o">-</span><span class="n">Wextra</span> <span class="o">-</span><span class="n">Wimplicit</span><span class="o">-</span><span class="n">interface</span> <span class="o">-</span><span class="n">fPIC</span> <span class="o">-</span><span class="n">Werror</span> <span class="o">-</span><span class="n">fmax</span><span class="o">-</span><span class="n">errors</span><span class="o">=</span><span class="mi">1</span> <span class="o">-</span><span class="n">g</span> <span class="o">-</span><span class="n">fbounds</span><span class="o">-</span><span class="n">check</span> <span class="o">-</span><span class="n">fcheck</span><span class="o">-</span><span class="n">array</span><span class="o">-</span><span class="n">temporaries</span> <span class="o">-</span><span class="n">fbacktrace</span>
</pre></div>
</div>
<p>This warns about undefined symbols, turns warnings into errors (so that the
compilation stops when undefined symbol is used), stops at the first error,
turns on bounds checks and array temporaries, and turns on backtrace printing
when something fails at runtime (typically accessing an array out of bounds).</p>
</div>
<div class="section" id="what-compiler-options-should-i-use-for-production-run">
<h2>What compiler options should I use for production run?<a class="headerlink" href="#what-compiler-options-should-i-use-for-production-run" title="Permalink to this headline">¶</a></h2>
<p>One possibility for gfortran is:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="o">-</span><span class="n">Wall</span> <span class="o">-</span><span class="n">Wextra</span> <span class="o">-</span><span class="n">Wimplicit</span><span class="o">-</span><span class="n">interface</span> <span class="o">-</span><span class="n">fPIC</span> <span class="o">-</span><span class="n">Werror</span> <span class="o">-</span><span class="n">fmax</span><span class="o">-</span><span class="n">errors</span><span class="o">=</span><span class="mi">1</span> <span class="o">-</span><span class="n">O3</span> <span class="o">-</span><span class="n">march</span><span class="o">=</span><span class="n">native</span> <span class="o">-</span><span class="n">ffast</span><span class="o">-</span><span class="n">math</span> <span class="o">-</span><span class="n">funroll</span><span class="o">-</span><span class="n">loops</span>
</pre></div>
</div>
<p>This turns off all debugging options (like bounds checks)
and turns on optimizing options (fast math and platform dependent code
generation).</p>
<p>It still warns about undefined symbols, turns warnings into errors (so that the
compilation stops when undefined symbol is used) and stops at the first error.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">FAQ</a><ul>
<li><a class="reference internal" href="#how-to-do-dynamic-dispatch-in-fortran-like-void-in-c">How to do dynamic dispatch in Fortran (like &#8216;void *&#8217; in C)?</a></li>
<li><a class="reference internal" href="#how-to-interface-fortran-with-c-and-python">How to interface Fortran with C and Python?</a></li>
<li><a class="reference internal" href="#does-fortran-support-closures">Does Fortran support closures?</a></li>
<li><a class="reference internal" href="#are-fortran-compilers-abi-compatible">Are Fortran compilers ABI compatible?</a></li>
<li><a class="reference internal" href="#what-is-the-best-way-to-distribute-and-install-fortran-libraries">What is the best way to distribute and install Fortran libraries?</a></li>
<li><a class="reference internal" href="#does-fortran-warn-you-about-undefined-symbols">Does Fortran warn you about undefined symbols?</a></li>
<li><a class="reference internal" href="#what-is-the-equivalent-of-the-c-header-files-in-fortran">What is the equivalent of the C header files in Fortran?</a></li>
<li><a class="reference internal" href="#what-compiler-options-should-i-use-for-development">What compiler options should I use for development?</a></li>
<li><a class="reference internal" href="#what-compiler-options-should-i-use-for-production-run">What compiler options should I use for production run?</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="rosetta.html"
                        title="previous chapter">Python Fortran Rosetta Stone</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="gotchas.html"
                        title="next chapter">Gotchas</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/src/faq.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="gotchas.html" title="Gotchas"
             >next</a> |</li>
        <li class="right" >
          <a href="rosetta.html" title="Python Fortran Rosetta Stone"
             >previous</a> |</li>
        <li><a href="../index.html">Fortran90 1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Ondřej Čertík.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.
    </div>
  </body>
</html>